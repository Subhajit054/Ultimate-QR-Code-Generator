<!--
QR Code Generator - Ultimate Version
Single-file HTML + CSS + JS, GitHub Pages ready
Features:
- Generate QR codes for URL, Text, Phone, Email, WiFi
- Color & background selection
- Size selection
- Download PNG & SVG
- Add center logo
- Save history in localStorage
- Dark mode, responsive
- Ad placeholder areas (5)
- SEO meta tags + sitemap instructions

Save this file as index.html in a repo and deploy to GitHub Pages.
-->

<!doctype html>
<html lang="en">
<head>
  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TJH9HZFBDB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TJH9HZFBDB');
  </script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>QR Maker — Free QR Code Generator</title>
  <meta name="description" content="Create custom QR codes (URL, text, phone, email, WiFi). Download PNG or SVG. No backend — works on GitHub Pages.">
  <meta name="keywords" content="qr code generator, free qr, qr maker, qr code download, wifi qr">
  <link rel="icon" href="data:,"><style>
  /* Minimal Tailwind-like, but plain CSS for portability */
  :root{--bg:#f7fafc;--card:#fff;--text:#0f172a;--muted:#64748b}
  [data-theme="dark"]{--bg:#0b1220;--card:#071226;--text:#e6eef8;--muted:#9aa9bf}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:980px;margin:28px auto;padding:20px}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  h1{margin:0;font-size:20px}
  .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(2,6,23,.06)}
  .grid{display:grid;grid-template-columns:1fr 320px;gap:16px}
  label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted)}
  input[type=text],select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef8;background:transparent}
  .btn{display:inline-block;padding:10px 14px;border-radius:8px;border:0;background:#0ea5a3;color:white;cursor:pointer}
  .muted{color:var(--muted);font-size:13px}
  .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .qr-preview{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px}
  .history{max-height:240px;overflow:auto;margin-top:8px}
  footer{margin-top:18px;font-size:13px;color:var(--muted)}
  .ad{background:#eef2ff;border:1px dashed #c7d2fe;padding:10px;border-radius:8px;text-align:center;color:#4c51bf}
  @media(max-width:880px){.grid{grid-template-columns:1fr}.wrap{padding:12px}}
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7253912036541448"
     crossorigin="anonymous"></script>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>QR Maker — Free QR Code Generator</h1>
      <div>
        <button id="themeBtn" class="btn">Toggle Dark</button>
      </div>
    </header>

    <div class="card grid">
      <div>
        <div>
          <label for="type">Type</label>
          <select id="type">
            <option value="url">URL</option>
            <option value="text">Text</option>
            <option value="phone">Phone</option>
            <option value="email">Email</option>
            <option value="wifi">WiFi</option>
          </select>
        </div>

        <div style="margin-top:10px;" id="inputs">
          <div id="input-url">
            <label class="muted">URL</label>
            <input id="value-url" type="text" placeholder="https://example.com">
          </div>
          <div id="input-text" style="display:none;margin-top:8px;">
            <label class="muted">Text</label>
            <textarea id="value-text" rows="4" placeholder="Some text to encode"></textarea>
          </div>
          <div id="input-phone" style="display:none;margin-top:8px;">
            <label class="muted">Phone</label>
            <input id="value-phone" type="text" placeholder="+911234567890">
          </div>
          <div id="input-email" style="display:none;margin-top:8px;">
            <label class="muted">Email (format: email|subject|body)</label>
            <input id="value-email" type="text" placeholder="me@example.com|Hello|Body text">
          </div>
          <div id="input-wifi" style="display:none;margin-top:8px;">
            <label class="muted">WiFi (SSID|WPA|password)</label>
            <input id="value-wifi" type="text" placeholder="MyNetwork|WPA|mypassword">
          </div>
        </div>

        <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
          <div style="flex:1">
            <label class="muted">Size (px)</label>
            <input id="size" type="text" value="300">
          </div>
          <div style="width:140px">
            <label class="muted">Foreground</label>
            <input id="fg" type="color" value="#000000">
          </div>
          <div style="width:140px">
            <label class="muted">Background</label>
            <input id="bgc" type="color" value="#ffffff">
          </div>
        </div>

        <div class="controls">
          <button id="generate" class="btn">Generate</button>
          <button id="download-png" class="btn" style="background:#3b82f6">Download PNG</button>
          <button id="download-svg" class="btn" style="background:#6366f1">Download SVG</button>
          <label style="display:inline-flex;align-items:center;gap:8px"><input id="addLogo" type="checkbox"> Add logo</label>
        </div>

        <div class="muted" style="margin-top:10px">History</div>
        <div class="history card" id="history"></div>
      </div>

      <aside>
        <div class="card qr-preview" style="min-height:360px">
          <div id="ad-top" class="ad">Ad banner placeholder (Top)</div>
          <div id="qrcode" style="padding:12px;background:var(--card);border-radius:8px"></div>
          <div id="qrcode-meta" class="muted">QR preview will appear here</div>
          <div id="ad-mid" class="ad">Ad banner placeholder (Mid)</div>
          <div style="display:flex;gap:8px;width:100%;justify-content:center">
            <button id="saveLocal" class="btn" style="background:#10b981">Save (Local)</button>
            <button id="clearLocal" class="btn" style="background:#ef4444">Clear</button>
          </div>
          <div id="ad-bottom" class="ad" style="margin-top:10px">Ad banner placeholder (Bottom)</div>
        </div>

        <div style="margin-top:12px" class="card muted">More ad placement: header & footer (2 more banners)</div>
      </aside>
    </div>

   <footer style="margin-top:24px;text-align:center;font-size:14px;color:#6b7280">
      <a href="how-to-create-qr.html">How to Create QR</a> |
      <a href="wifi-qr-generator.html">WiFi QR Generator</a> |
      <a href="faq.html">FAQ</a>
      <div style="margin-top:8px">© QR Maker</div>
    </footer>

  </div>

  <!-- QR generation library:<!-- QR generation library: switched to qrcode.js (CDN) for offline, fast generation -->
  <!-- Load qrcodejs from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
  // Use qrcodejs to generate QR codes completely in the browser (no external API calls).
  // This makes the site faster and more reliable for SEO and users.

  // Build data for types (keeps your existing buildPayload function compatible)
  function buildPayload(type){
    if(type==='url') return document.getElementById('value-url').value.trim();
    if(type==='text') return document.getElementById('value-text').value.trim();
    if(type==='phone') return 'tel:'+document.getElementById('value-phone').value.trim();
    if(type==='email'){
      var v = document.getElementById('value-email').value.split('|');
      var mail = v[0]||''; var subject = v[1]||''; var body = v[2]||'';
      return 'mailto:'+mail+'?subject='+encodeURIComponent(subject)+'&body='+encodeURIComponent(body);
    }
    if(type==='wifi'){
      var v = document.getElementById('value-wifi').value.split('|');
      var ssid=v[0]||''; var enc=v[1]||'WPA'; var pw=v[2]||'';
      return 'WIFI:T:'+enc+';S:'+ssid+';P:'+pw+';;';
    }
    return '';
  }

  // History storage (unchanged)
  function addHistory(item){
    var h = JSON.parse(localStorage.getItem('qr_history')||'[]');
    h.unshift({time:Date.now(),item:item}); if(h.length>30) h.pop(); localStorage.setItem('qr_history',JSON.stringify(h)); renderHistory();
  }
  function renderHistory(){
    var h = JSON.parse(localStorage.getItem('qr_history')||'[]'); var el = document.getElementById('history'); el.innerHTML='';
    h.forEach(function(entry){
      var d = document.createElement('div'); d.style.padding='8px'; d.style.borderBottom='1px solid #eef2ff'; d.innerHTML='<div style="font-size:13px;color:#0f172a">'+escapeHtml(entry.item).slice(0,120)+'</div><div class="muted" style="font-size:12px">'+new Date(entry.time).toLocaleString()+'</div>';
      el.appendChild(d);
    })
  }
  function escapeHtml(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}

  // Generate QR using qrcode.js and store a reference to a canvas for downloads
  function generateQRCodeWithQRCodeJS(text, size, fg, bg){
    var container = document.getElementById('qrcode');
    container.innerHTML = '';

    // Create a wrapper div because qrcode.js writes inside the element
    var wrapper = document.createElement('div');
    wrapper.style.display = 'inline-block';
    container.appendChild(wrapper);

    // qrcode.js options
    var options = {
      text: text,
      width: size,
      height: size,
      colorDark: fg,
      colorLight: bg,
      correctLevel: QRCode.CorrectLevel.H
    };

    // Create QR code (qrcode.js will insert an <img> or <canvas> into wrapper)
    new QRCode(wrapper, options);

    // Convert rendered image to a canvas we control so Download PNG works consistently
    setTimeout(function(){
      // try to find an img rendered by qrcode.js
      var img = wrapper.querySelector('img');
      var table = wrapper.querySelector('table');
      var canvasEl = null;
      if(img){
        // draw image into a new canvas
        var cv = document.createElement('canvas'); cv.width = size; cv.height = size; var ctx = cv.getContext('2d');
        // fill background then draw
        ctx.fillStyle = bg; ctx.fillRect(0,0,size,size);
        ctx.drawImage(img,0,0,size,size);
        canvasEl = cv;
      } else if(table){
        // If qrcode.js rendered a table (rare), convert each cell into canvas pixels
        var cv = document.createElement('canvas'); cv.width = size; cv.height = size; var ctx = cv.getContext('2d');
        ctx.fillStyle = bg; ctx.fillRect(0,0,size,size);
        var cells = table.querySelectorAll('td');
        var cols = table.rows[0].cells.length; var rows = table.rows.length;
        var pxW = size/cols; var pxH = size/rows;
        for(var r=0;r<rows;r++){
          for(var c=0;c<cols;c++){
            var cell = table.rows[r].cells[c];
            var bgc = window.getComputedStyle(cell).backgroundColor;
            if(bgc && bgc !== 'rgba(0, 0, 0, 0)'){
              ctx.fillStyle = bgc; ctx.fillRect(Math.round(c*pxW), Math.round(r*pxH), Math.ceil(pxW), Math.ceil(pxH));
            }
          }
        }
        canvasEl = cv;
      } else {
        canvasEl = null;
      }

      // Attach canvas to container for download access
      container._qrCanvas = canvasEl;
    }, 120);
  }

  // Download canvas as PNG helper
  function downloadCanvasPNG(canvas, filename){
    if(!canvas){ alert('Generate a QR code first.'); return; }
    var a = document.createElement('a');
    a.href = canvas.toDataURL('image/png');
    a.download = filename||'qr.png';
    document.body.appendChild(a); a.click(); a.remove();
  }

  // Download SVG (create an SVG wrapping an <image> that uses data URL of canvas)
  function downloadSVGFromCanvas(canvas, filename){
    if(!canvas){ alert('Generate a QR code first.'); return; }
    var png = canvas.toDataURL('image/png');
    var size = canvas.width;
    var svg = '<svg xmlns="http://www.w3.org/2000/svg" width="'+size+'" height="'+size+'">'
            + '<image href="'+png+'" width="'+size+'" height="'+size+'" />'
            + '</svg>';
    var blob = new Blob([svg],{type:'image/svg+xml'});
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a'); a.href = url; a.download = filename||'qr.svg'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  }

  // Wire up UI buttons (keeps existing IDs)
  document.addEventListener('DOMContentLoaded',function(){
    var typeSel = document.getElementById('type');
    var inputs = {url:document.getElementById('input-url'),text:document.getElementById('input-text'),phone:document.getElementById('input-phone'),email:document.getElementById('input-email'),wifi:document.getElementById('input-wifi')};
    function showInput(){ for(var k in inputs) inputs[k].style.display='none'; inputs[typeSel.value].style.display='block'; }
    typeSel.addEventListener('change',showInput); showInput();

    var themeBtn = document.getElementById('themeBtn'); themeBtn.addEventListener('click',function(){ if(document.documentElement.getAttribute('data-theme')==='dark'){document.documentElement.removeAttribute('data-theme')}else{document.documentElement.setAttribute('data-theme','dark')} });

    document.getElementById('generate').addEventListener('click',function(){
      var type = typeSel.value; var payload = buildPayload(type); if(!payload){alert('Please provide input.');return}
      var size = parseInt(document.getElementById('size').value)||300; var fg=document.getElementById('fg').value; var bg=document.getElementById('bgc').value;
      document.getElementById('qrcode-meta').textContent = 'Generating...';
      generateQRCodeWithQRCodeJS(payload,size,fg,bg);
      document.getElementById('qrcode-meta').textContent = escapeHtml(payload);
      addHistory(payload);
    });

    document.getElementById('download-png').addEventListener('click',function(){ var container=document.getElementById('qrcode'); var c=container._qrCanvas; if(!c){alert('Generate first');return} downloadCanvasPNG(c,'qr.png'); });
    document.getElementById('download-svg').addEventListener('click',function(){ var container=document.getElementById('qrcode'); var c=container._qrCanvas; if(!c){alert('Generate first');return} downloadSVGFromCanvas(c,'qr.svg'); });

    document.getElementById('saveLocal').addEventListener('click',function(){ alert('History is automatically saved in your browser (localStorage).'); });
    document.getElementById('clearLocal').addEventListener('click',function(){ if(confirm('Clear history?')){ localStorage.removeItem('qr_history'); renderHistory(); } });

    renderHistory();
  });
  </script>

  <!-- SEO-friendly: sitemap.xml & robots.txt instructions (place in repo root) -->
  <!-- robots.txt example:
    User-agent: *
    Allow: /
    Sitemap: https://yourdomain.com/sitemap.xml
  -->
  <!-- sitemap.xml: generate a small sitemap with index.html -->

</body>
</html>



